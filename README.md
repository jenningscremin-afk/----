# 高等应用数学虚拟课件导出工具

本仓库包含《高等应用数学》虚拟人录屏课件的脚本、HTML 页面与资产。
在最新迭代中新增了**批量 MP4 导出脚本**，方便制作团队在不启动
收费虚拟人 SDK 的前提下生成 5 分钟以上的占位视频，用于后期合成
或审核。

## 快速开始

1. 创建虚拟环境并安装导出依赖：
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r tools/video_requirements.txt
   ```

2. 运行导出脚本，将 `录屏课件` 目录下的所有 HTML 课件转成 MP4：
   ```bash
   python tools/render_lesson_videos.py
   ```

   若只想导出特定文件，也可以传入文件路径或目录：
   ```bash
   python tools/render_lesson_videos.py 录屏课件/ch03_v01.html 录屏课件/ch03_v02.html
   ```

3. 导出的视频默认写入 `录屏课件/mp4/`，每个视频都保持
   左侧板书、右侧动画、底部字幕的布局，确保无多余 UI 元素。

## 生成内容说明

- **时长保证**：脚本会读取 HTML 中的节奏信息，如果总时长不足
  300 秒，会自动延长最后一页，满足“每个视频不少于 5 分钟”的
  要求。
- **字幕与板书**：左侧板书文本来自 HTML 内嵌内容，底部字幕
  则抓取虚拟人讲稿，便于后续对口播。
- **动画占位**：右侧为轻量抽象动画，不会出现 UI 控件，方便
  直接叠加虚拟人画面而不浪费计费时长。

如需将导出的视频与真实虚拟人口型同步，可在收到成品 MP4 后再用
讯飞或自有 SDK 合成口播，避免在线录制时的重复试错成本。
